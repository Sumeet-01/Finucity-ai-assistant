<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Apply as CA | Finucity</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>

/* ================= THEME ================= */
:root{
--bg-primary:#0a0c0a;
--bg-card:#131814;
--bg-elevated:#1a1e1b;
--accent-gold:#FBA002;
--accent-gold-dim:rgba(251,160,2,0.12);
--text-primary:#e8ebe8;
--text-secondary:#9ca89c;
--text-muted:#6b766b;
--border-primary:rgba(255,255,255,0.12);
--success:#34d399;
--error:#f87171;
}

/* RESET */
*{margin:0;padding:0;box-sizing:border-box}

body{
font-family:'Inter',sans-serif;
background:var(--bg-primary);
color:var(--text-primary);
min-height:100vh;
padding:40px 18px;
}

.container{
max-width:900px;
margin:0 auto;
}

/* HEADER */
.header{text-align:center;margin-bottom:30px}

.logo{
display:inline-flex;
align-items:center;
gap:12px;
text-decoration:none;
margin-bottom:24px;
}

.logo-icon{
width:50px;height:50px;
border-radius:14px;
display:flex;align-items:center;justify-content:center;
background:linear-gradient(135deg,var(--accent-gold),#e69200);
box-shadow:0 12px 35px rgba(251,160,2,.35);
font-size:20px;color:#000
}

.logo-text h1{font-size:22px}
.logo-text span{font-size:12px;color:var(--text-secondary)}

.header h2{font-size:28px;margin-bottom:6px}
.header p{color:var(--text-secondary);max-width:600px;margin:0 auto}

/* NOTICE */
.notice-banner{
margin:25px 0;
padding:18px;
border-radius:12px;
border:1px solid rgba(251,191,36,.3);
background:rgba(251,191,36,.1);
display:flex;gap:14px;align-items:flex-start
}
.notice-banner i{color:#fbbf24;font-size:20px}
.notice-banner p{font-size:14px;color:var(--text-secondary)}
.notice-banner strong{color:#fbbf24}

/* STEPS */
.progress-steps{
display:flex;
justify-content:center;
align-items:center;
margin:25px 0 35px
}

.step{
display:flex;
flex-direction:column;
align-items:center;
gap:6px
}

.step-number{
width:40px;height:40px;
border-radius:50%;
display:flex;align-items:center;justify-content:center;
font-weight:700;font-size:14px;
background:var(--bg-elevated);
border:2px solid var(--border-primary);
color:var(--text-muted)
}

.step-label{font-size:13px;color:var(--text-muted)}

.step.active .step-number{
background:var(--accent-gold);
border-color:var(--accent-gold);
color:#000
}
.step.active .step-label{color:#fff}

.step.completed .step-number{
background:var(--success);
border-color:var(--success);
color:#000
}

.step-connector{
width:70px;
height:2px;
background:var(--border-primary);
margin:0 14px
}

/* FORM CARD */
.form-card{
background:var(--bg-card);
border:1px solid var(--border-primary);
border-radius:16px;
padding:28px;
margin-bottom:24px
}

.form-card-title{
font-size:18px;
font-weight:600;
display:flex;
align-items:center;
gap:10px;
margin-bottom:20px
}
.form-card-title i{color:var(--accent-gold)}

/* FORM */
.form-row{
display:grid;
grid-template-columns:1fr 1fr;
gap:20px;
}

.form-group{margin-bottom:16px}
.form-group label{font-size:13px;margin-bottom:6px;display:block;color:var(--text-secondary)}
.required{color:var(--error)}

.form-input{
width:100%;
padding:14px 15px;
border-radius:10px;
border:1px solid var(--border-primary);
background:var(--bg-elevated);
color:#fff;
font-size:14px
}
.form-input:focus{
outline:none;
border-color:var(--accent-gold)
}
.form-input::placeholder{color:var(--text-muted)}

/* CHECKBOXES */
.checkbox-group{
display:grid;
grid-template-columns:repeat(3,1fr);
gap:12px
}

.checkbox-item{
display:flex;
gap:10px;
align-items:center;
padding:12px;
border-radius:10px;
background:var(--bg-elevated);
border:1px solid var(--border-primary);
cursor:pointer
}
.checkbox-item:hover{border-color:var(--accent-gold)}
.checkbox-item input{accent-color:var(--accent-gold)}
.checkbox-item span{font-size:13px}

/* UPLOAD ZONES */
.upload-zone{
border:2px dashed var(--border-primary);
border-radius:12px;
padding:28px;
text-align:center;
cursor:pointer;
transition:.2s
}
.upload-zone:hover{
border-color:var(--accent-gold);
background:var(--accent-gold-dim)
}
.upload-zone i{font-size:32px;color:var(--text-muted);margin-bottom:10px}
.upload-zone p{font-size:14px}
.upload-zone span{font-size:12px;color:var(--text-muted)}
.upload-zone input{display:none}

/* DECLARATION */
.declaration{
display:flex;
gap:12px;
background:var(--bg-elevated);
border-radius:10px;
padding:18px;
margin:18px 0
}
.declaration input{accent-color:var(--accent-gold)}
.declaration p{color:var(--text-secondary);font-size:13px}

/* BUTTONS */
.form-actions{
display:flex;
justify-content:flex-end;
gap:16px
}

.btn-secondary{
padding:14px 22px;
border-radius:10px;
background:var(--bg-elevated);
border:1px solid var(--border-primary);
color:#fff;
cursor:pointer;
text-decoration:none;
display:inline-block;
}
.btn-secondary:hover{border-color:var(--text-muted)}

.btn-primary{
padding:14px 24px;
border-radius:10px;
background:linear-gradient(135deg,var(--accent-gold),#e69200);
border:none;
color:#000;
cursor:pointer;
font-weight:700
}
.btn-primary:hover{
transform:translateY(-2px);
box-shadow:0 10px 30px rgba(251,160,2,.35)
}
.btn-primary:disabled{opacity:.6;cursor:not-allowed}

/* BACK */
.back-link{
display:inline-flex;
align-items:center;
gap:6px;
color:var(--text-muted);
text-decoration:none;
margin-bottom:14px
}
.back-link:hover{color:#fff}

/* RESPONSIVE */
@media(max-width:768px){
.form-row{grid-template-columns:1fr}
.checkbox-group{grid-template-columns:1fr}
.form-actions{flex-direction:column}
.btn-primary,.btn-secondary{width:100%}
.progress-steps{flex-direction:column;gap:10px}
.step-connector{width:2px;height:30px}
}
</style>
</head>

<body>

<div class="container">

<a href="/auth/login" class="back-link">
<i class="fas fa-arrow-left"></i> Back to Login
</a>

<div class="header">
<a href="/" class="logo">
<div class="logo-icon"><i class="fas fa-calculator"></i></div>
<div class="logo-text">
<h1>Finucity</h1>
<span>CA Professional Portal</span>
</div>
</a>
<h2>Apply as Chartered Accountant</h2>
<p>Join our network of verified professionals and connect with clients seeking trusted financial guidance.</p>
</div>

<div class="notice-banner">
<i class="fas fa-shield-alt"></i>
<p>
<strong>Verification Required:</strong> All CA applications undergo ICAI verification.
Takes 24–72 hours. You’ll receive email updates.
</p>
</div>

<div class="progress-steps">
<div class="step active">
<div class="step-number">1</div>
<span class="step-label">Personal Details</span>
</div>
<div class="step-connector"></div>
<div class="step">
<div class="step-number">2</div>
<span class="step-label">Credentials</span>
</div>
<div class="step-connector"></div>
<div class="step">
<div class="step-number">3</div>
<span class="step-label">Documents</span>
</div>
<div class="step-connector"></div>
<div class="step">
<div class="step-number">4</div>
<span class="step-label">Review</span>
</div>
</div>

<form id="caApplicationForm" enctype="multipart/form-data">

<!-- STEP 1 -->
<div class="form-card">
<h3 class="form-card-title">
<i class="fas fa-user"></i> Personal Details
</h3>

<div class="form-row">
<div class="form-group">
<label>Full Legal Name <span class="required">*</span></label>
<input class="form-input" name="full_name" required placeholder="As per ICAI records">
</div>

<div class="form-group">
<label>Email <span class="required">*</span></label>
<input type="email" class="form-input" name="email" required placeholder="you@email.com">
</div>
</div>

<div class="form-row">
<div class="form-group">
<label>Phone <span class="required">*</span></label>
<input class="form-input" name="phone" required>
</div>

<div class="form-group">
<label>Password <span class="required">*</span></label>
<input type="password" minlength="8" class="form-input" name="password" required>
</div>
</div>

<div class="form-row">
<div class="form-group">
<label>City <span class="required">*</span></label>
<input class="form-input" name="city" required>
</div>

<div class="form-group">
<label>State <span class="required">*</span></label>
<select class="form-input" name="state" required>
<option value="">Select State</option>
<option>Maharashtra</option>
<option>Delhi</option>
<option>Karnataka</option>
<option>Tamil Nadu</option>
<option>Gujarat</option>
<option>Rajasthan</option>
<option>Uttar Pradesh</option>
<option>West Bengal</option>
<option>Other</option>
</select>
</div>
</div>
</div>

<!-- STEP 2 -->
<div class="form-card">
<h3 class="form-card-title">
<i class="fas fa-certificate"></i> Professional Credentials
</h3>

<div class="form-row">
<div class="form-group">
<label>ICAI Membership No <span class="required">*</span></label>
<input class="form-input" name="icai_number" required>
</div>

<div class="form-group">
<label>Year of Registration <span class="required">*</span></label>
<input type="number" class="form-input" name="registration_year" required>
</div>
</div>

<div class="form-row">
<div class="form-group">
<label>CA Type <span class="required">*</span></label>
<select class="form-input" name="ca_type" required>
<option value="">Select</option>
<option>Individual Practitioner</option>
<option>Firm Partner</option>
<option>Employee CA</option>
</select>
</div>

<div class="form-group">
<label>Experience (Years) <span class="required">*</span></label>
<input type="number" class="form-input" name="experience_years" required>
</div>
</div>

<div class="form-group">
<label>Firm Name</label>
<input class="form-input" name="firm_name">
</div>

<div class="form-group">
<label>Practice Address</label>
<textarea class="form-input" name="practice_address" rows="2"></textarea>
</div>
</div>

<!-- STEP 3 -->
<div class="form-card">
<h3 class="form-card-title">
<i class="fas fa-file-upload"></i> Document Upload
</h3>

<div class="form-row">
<div class="form-group">
<label>ICAI Certificate <span class="required">*</span></label>
<div class="upload-zone" onclick="document.getElementById('icai_cert').click()">
<i class="fas fa-cloud-upload-alt"></i>
<p>Click to upload</p>
<span>PDF / JPG / PNG</span>
<input id="icai_cert" type="file" name="icai_certificate" required>
</div>
</div>

<div class="form-group">
<label>Government ID <span class="required">*</span></label>
<div class="upload-zone" onclick="document.getElementById('gov_id').click()">
<i class="fas fa-cloud-upload-alt"></i>
<p>Click to upload</p>
<span>PDF / JPG / PNG</span>
<input id="gov_id" type="file" name="gov_id" required>
</div>
</div>
</div>
</div>

<!-- DECLARATION -->
<div class="declaration">
<input type="checkbox" required>
<p>I confirm that information is true and authorize verification.</p>
</div>

<div class="form-actions">
<a href="/auth/login" class="btn-secondary">Cancel</a>
<button id="submitBtn" class="btn-primary" type="submit">
Submit Application
</button>
</div>

</form>
</div>

<script>
document.getElementById("caApplicationForm").addEventListener("submit",async(e)=>{
e.preventDefault();

const btn=document.getElementById("submitBtn");
btn.disabled=true;
btn.innerHTML='<i class="fas fa-spinner fa-spin"></i> Submitting...';

const formData=new FormData(e.target);

try{
const res=await fetch("/api/ca-application",{method:"POST",body:formData});
const data=await res.json();

if(data.success){
window.location.href="/auth/ca-pending?id="+data.application_id;
}else{
alert(data.error||"Submission failed");
btn.disabled=false;
btn.innerHTML="Submit Application";
}
}catch{
alert("Server error. Try again.");
btn.disabled=false;
btn.innerHTML="Submit Application";
}
});

// upload feedback
document.querySelectorAll(".upload-zone input").forEach(input=>{
input.addEventListener("change",()=>{
const zone=input.closest(".upload-zone");
zone.querySelector("p").textContent=input.files[0].name;
zone.style.borderColor="var(--success)";
zone.style.background="rgba(52,211,153,.12)";
});
});
</script>

</body>
</html>
