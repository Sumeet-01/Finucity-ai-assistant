{% extends "base.html" %}

{% block title %}Retirement Planning | Finucity{% endblock %}

{% block content %}
<section class="rp-hero">
    <div class="rp-hero__particles" id="rpParticles"></div>
    <div class="container">
        <div class="rp-hero__content reveal-up">
            <span class="rp-hero__badge">Retirement</span>
            <h1 class="rp-hero__title">Plan Your <span class="gradient-text">Financial Freedom</span></h1>
            <p class="rp-hero__subtitle">Build a retirement corpus that lets you live life on your terms — with NPS, PPF, equity, and smart withdrawal strategies tailored for India.</p>
            <div class="rp-hero__stats">
                <div class="rp-stat"><span class="rp-stat__number" data-count="5">0</span><span class="rp-stat__unit"> Cr</span><span class="rp-stat__label">Avg Corpus Goal</span></div>
                <div class="rp-stat"><span class="rp-stat__number" data-count="15">0</span><span class="rp-stat__unit">%</span><span class="rp-stat__label">Equity CAGR</span></div>
                <div class="rp-stat"><span class="rp-stat__number" data-count="50">0</span><span class="rp-stat__unit">K</span><span class="rp-stat__label">NPS 80CCD(1B)</span></div>
            </div>
        </div>
    </div>
</section>

<section class="rp-section">
    <div class="container">
        <div class="section-header reveal-up">
            <span class="section-tag">Philosophy</span>
            <h2>The FIRE Approach to Retirement</h2>
            <div class="section-line"></div>
        </div>
        <div class="rp-philosophy reveal-up">
            <div class="rp-philosophy__content">
                <h3>Financial Independence, Retire Early</h3>
                <p>FIRE isn't about stopping work — it's about having the <strong>choice</strong>. When your passive income exceeds your expenses, you've achieved financial independence. In India, with inflation at 6-7%, you need a corpus of <strong>30-35x your annual expenses</strong> to retire safely.</p>
                <div class="rp-fire-grid">
                    <div class="rp-fire-item"><span class="rp-fire-icon">&#128293;</span><strong>Lean FIRE</strong><p>₹1.5-2 Cr corpus. Minimalist living with ₹40-50K/month expenses.</p></div>
                    <div class="rp-fire-item"><span class="rp-fire-icon">&#128293;</span><strong>Regular FIRE</strong><p>₹3-5 Cr corpus. Comfortable ₹1-1.5L/month lifestyle.</p></div>
                    <div class="rp-fire-item"><span class="rp-fire-icon">&#128293;</span><strong>Fat FIRE</strong><p>₹8-12 Cr corpus. Premium ₹2.5-3L/month with travel and luxuries.</p></div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="rp-section rp-section--dark">
    <div class="container">
        <div class="section-header reveal-up">
            <span class="section-tag">Instruments</span>
            <h2>Retirement Building Blocks</h2>
            <div class="section-line"></div>
        </div>
        <div class="rp-instruments-grid">
            <div class="rp-instrument reveal-up" style="--delay:0.1s">
                <div class="rp-instrument__accent" style="background:linear-gradient(135deg,#667eea,#764ba2)"></div>
                <div class="rp-instrument__body">
                    <h3>&#127970; National Pension System (NPS)</h3>
                    <p>Government-backed pension scheme with lowest fund management charges (0.01%). Invest up to ₹2L/year for tax benefits under 80CCD(1) + 80CCD(1B).</p>
                    <div class="rp-features">
                        <div class="rp-feature"><span class="tick">&#10003;</span> Extra ₹50,000 deduction under 80CCD(1B)</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> Employer contribution deduction under 80CCD(2)</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> 60% lump-sum withdrawal tax-free at 60</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> Choice of Active/Auto allocation across E/C/G</div>
                    </div>
                    <div class="rp-instrument__highlight"><strong>Best For:</strong> Salaried individuals seeking extra ₹50K tax deduction + disciplined long-term retirement savings</div>
                </div>
            </div>

            <div class="rp-instrument reveal-up" style="--delay:0.2s">
                <div class="rp-instrument__accent" style="background:linear-gradient(135deg,#43e97b,#38f9d7)"></div>
                <div class="rp-instrument__body">
                    <h3>&#128176; PPF &amp; EPF</h3>
                    <p>Tax-free guaranteed returns (7.1% PPF, ~8.25% EPF). The backbone of every Indian's retirement — EEE (Exempt-Exempt-Exempt) status makes them unbeatable for debt allocation.</p>
                    <div class="rp-features">
                        <div class="rp-feature"><span class="tick">&#10003;</span> PPF: ₹1.5L/year limit, 15-year lock-in</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> EPF: 12% employer + 12% employee contribution</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> Fully tax-free maturity (EEE status)</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> VPF extends EPF at same rate, voluntary top-up</div>
                    </div>
                    <div class="rp-instrument__highlight"><strong>Best For:</strong> Risk-averse investors who want guaranteed, tax-free compounding over 25-30 years</div>
                </div>
            </div>

            <div class="rp-instrument reveal-up" style="--delay:0.3s">
                <div class="rp-instrument__accent" style="background:linear-gradient(135deg,#fba002,#ff6b35)"></div>
                <div class="rp-instrument__body">
                    <h3>&#128200; Equity &amp; Mutual Funds</h3>
                    <p>The growth engine. Over 15+ years, Nifty 50 has delivered 12-15% CAGR. SIPs in index funds + flexi-cap funds create the equity portion needed to beat inflation and build wealth.</p>
                    <div class="rp-features">
                        <div class="rp-feature"><span class="tick">&#10003;</span> Nifty 50 Index Funds: Low-cost market returns</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> Flexi-Cap Funds: Fund manager picks best opportunities</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> ELSS: Tax-saving + equity exposure (3-yr lock-in)</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> Systematic Transfer Plan (STP) for gradual equity entry</div>
                    </div>
                    <div class="rp-instrument__highlight"><strong>Best For:</strong> Anyone with 10+ year horizon who needs inflation-beating growth</div>
                </div>
            </div>

            <div class="rp-instrument reveal-up" style="--delay:0.4s">
                <div class="rp-instrument__accent" style="background:linear-gradient(135deg,#4facfe,#00f2fe)"></div>
                <div class="rp-instrument__body">
                    <h3>&#127968; Senior Citizen Schemes</h3>
                    <p>Post-retirement income generators. SCSS (8.2% with quarterly payouts), PMVVY, and Senior Citizen FDs provide stable cashflow when you stop earning active income.</p>
                    <div class="rp-features">
                        <div class="rp-feature"><span class="tick">&#10003;</span> SCSS: ₹30L limit, 8.2% pa, quarterly payout</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> Senior Citizen FD: Extra 0.5% rate from most banks</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> PMVVY: Pension plan for 60+ (LIC-backed)</div>
                        <div class="rp-feature"><span class="tick">&#10003;</span> 80TTB: ₹50,000 interest exemption for seniors</div>
                    </div>
                    <div class="rp-instrument__highlight"><strong>Best For:</strong> Retirees (60+) who need regular monthly/quarterly income with capital safety</div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="rp-section">
    <div class="container">
        <div class="section-header reveal-up">
            <span class="section-tag">Calculator</span>
            <h2>Retirement Corpus Estimator</h2>
            <div class="section-line"></div>
        </div>
        <div class="rp-calculator reveal-up">
            <div class="rp-calc__inputs">
                <div class="rp-calc__group">
                    <label>Current Age</label>
                    <input type="number" id="rpCurrentAge" value="30" min="20" max="60">
                </div>
                <div class="rp-calc__group">
                    <label>Retirement Age</label>
                    <input type="number" id="rpRetireAge" value="55" min="40" max="70">
                </div>
                <div class="rp-calc__group">
                    <label>Monthly Expenses (Today)</label>
                    <input type="number" id="rpExpenses" value="60000" step="5000">
                </div>
                <div class="rp-calc__group">
                    <label>Expected Return (%)</label>
                    <input type="number" id="rpReturn" value="12" step="0.5" min="6" max="20">
                </div>
                <div class="rp-calc__group">
                    <label>Inflation (%)</label>
                    <input type="number" id="rpInflation" value="6" step="0.5" min="3" max="10">
                </div>
                <div class="rp-calc__group">
                    <label>Life Expectancy</label>
                    <input type="number" id="rpLifeExp" value="85" min="70" max="100">
                </div>
                <button class="rp-calc__btn" onclick="calcRetirement()">Calculate Corpus</button>
            </div>
            <div class="rp-calc__result" id="rpResult" style="display:none">
                <div class="rp-result__card">
                    <span class="rp-result__label">Required Corpus at Retirement</span>
                    <span class="rp-result__value" id="rpCorpus"></span>
                </div>
                <div class="rp-result__card">
                    <span class="rp-result__label">Monthly SIP Needed Today</span>
                    <span class="rp-result__value" id="rpSIP"></span>
                </div>
                <div class="rp-result__card">
                    <span class="rp-result__label">Monthly Expenses at Retirement</span>
                    <span class="rp-result__value" id="rpFutureExp"></span>
                </div>
                <div class="rp-result__card">
                    <span class="rp-result__label">Retirement Duration</span>
                    <span class="rp-result__value" id="rpDuration"></span>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="rp-section rp-section--dark rp-cta-section">
    <div class="container">
        <div class="rp-cta reveal-up">
            <div class="rp-cta__glow"></div>
            <h2>Start Building Your Retirement Corpus</h2>
            <p>Every year you delay costs you lakhs in potential corpus. Start today — even ₹5,000/month makes a massive difference over 25 years.</p>
            <div class="rp-cta__buttons">
                <a href="{{ url_for('main.chat') }}" class="tp-btn tp-btn--primary"><span>Get AI Retirement Plan</span></a>
                <a href="{{ url_for('main.sip_calculator') }}" class="tp-btn tp-btn--secondary"><span>SIP Calculator</span></a>
            </div>
        </div>
    </div>
</section>

<style>
@keyframes fadeInUp { from { opacity:0; transform:translateY(40px); } to { opacity:1; transform:translateY(0); } }
@keyframes gradient-shift { 0% { background-position:0% 50%; } 50% { background-position:100% 50%; } 100% { background-position:0% 50%; } }
@keyframes particle-float { 0% { transform:translateY(0) translateX(0); opacity:0; } 10% { opacity:1; } 90% { opacity:1; } 100% { transform:translateY(-100vh) translateX(50px); opacity:0; } }

.reveal-up { opacity:0; transform:translateY(50px); transition:all 0.8s cubic-bezier(0.16,1,0.3,1); }
.reveal-up.revealed { opacity:1; transform:translate(0); }

.rp-hero { position:relative; padding:10rem 0 5rem; background:linear-gradient(180deg,var(--bg-main) 0%,rgba(79,172,254,0.03) 50%,var(--bg-main) 100%); overflow:hidden; margin-top:80px; text-align:center; }
.rp-hero__particles { position:absolute; inset:0; pointer-events:none; overflow:hidden; }
.rp-hero__particles .particle { position:absolute; width:3px; height:3px; background:rgba(79,172,254,0.4); border-radius:50%; animation:particle-float linear infinite; }
.rp-hero__content { position:relative; z-index:2; max-width:800px; margin:0 auto; }
.rp-hero__badge { display:inline-block; padding:0.5rem 1.5rem; background:rgba(79,172,254,0.1); border:1px solid rgba(79,172,254,0.3); border-radius:50px; color:#4facfe; font-size:0.85rem; font-weight:600; letter-spacing:1px; text-transform:uppercase; margin-bottom:1.5rem; }
.rp-hero__title { font-size:clamp(2.5rem,5vw,3.8rem); font-weight:900; color:var(--text-light); margin-bottom:1rem; }
.gradient-text { background:linear-gradient(135deg,#4facfe,#00f2fe,#4facfe); background-size:200% auto; -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; animation:gradient-shift 4s ease infinite; }
.rp-hero__subtitle { color:var(--text-muted); font-size:1.1rem; line-height:1.7; margin-bottom:2.5rem; max-width:650px; margin-left:auto; margin-right:auto; }
.rp-hero__stats { display:flex; justify-content:center; gap:2rem; flex-wrap:wrap; }
.rp-stat { text-align:center; padding:1.2rem 1.8rem; background:rgba(255,255,255,0.03); border:1px solid rgba(79,172,254,0.1); border-radius:16px; transition:all 0.3s; }
.rp-stat:hover { border-color:rgba(79,172,254,0.3); transform:translateY(-3px); }
.rp-stat__number { font-size:2rem; font-weight:800; color:#4facfe; }
.rp-stat__unit { font-size:1rem; font-weight:700; color:#4facfe; }
.rp-stat__label { font-size:0.75rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:0.5px; margin-top:0.3rem; display:block; }

.rp-section { padding:6rem 0; } .rp-section--dark { background:rgba(0,0,0,0.15); }
.section-header { text-align:center; margin-bottom:4rem; }
.section-tag { display:inline-block; padding:0.4rem 1.2rem; background:rgba(79,172,254,0.08); border:1px solid rgba(79,172,254,0.15); border-radius:50px; color:#4facfe; font-size:0.8rem; font-weight:600; letter-spacing:1.5px; text-transform:uppercase; margin-bottom:1rem; }
.section-header h2 { font-size:2.2rem; font-weight:800; color:var(--text-light); margin-bottom:1rem; }
.section-line { width:60px; height:3px; background:linear-gradient(135deg,#4facfe,#00f2fe); margin:0 auto; border-radius:2px; }

.rp-philosophy { background:var(--bg-alt); padding:3rem; border-radius:20px; border:1px solid rgba(79,172,254,0.1); }
.rp-philosophy h3 { color:var(--text-light); font-size:1.4rem; margin-bottom:1rem; }
.rp-philosophy > .rp-philosophy__content > p { color:var(--text-muted); line-height:1.7; margin-bottom:2rem; }
.rp-fire-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:1.5rem; }
.rp-fire-item { background:rgba(79,172,254,0.04); padding:1.5rem; border-radius:12px; border:1px solid rgba(79,172,254,0.08); }
.rp-fire-icon { font-size:1.5rem; }
.rp-fire-item strong { color:var(--text-light); display:block; margin:0.5rem 0; }
.rp-fire-item p { color:var(--text-muted); font-size:0.88rem; line-height:1.5; margin:0; }

.rp-instruments-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(460px,1fr)); gap:1.5rem; }
.rp-instrument { background:var(--bg-alt); border-radius:20px; overflow:hidden; border:1px solid rgba(79,172,254,0.08); transition:all 0.4s; transition-delay:var(--delay,0s); }
.rp-instrument:hover { border-color:rgba(79,172,254,0.2); transform:translateY(-6px); box-shadow:0 15px 50px rgba(0,0,0,0.2); }
.rp-instrument__accent { height:4px; }
.rp-instrument__body { padding:2rem; }
.rp-instrument h3 { color:var(--text-light); font-size:1.15rem; margin-bottom:0.8rem; }
.rp-instrument > .rp-instrument__body > p { color:var(--text-muted); font-size:0.9rem; line-height:1.6; margin-bottom:1re; }
.rp-features { margin:1rem 0; }
.rp-feature { display:flex; align-items:flex-start; gap:0.6rem; padding:0.4rem 0; color:var(--text-muted); font-size:0.88rem; }
.tick { color:#43e97b; font-weight:700; flex-shrink:0; }
.rp-instrument__highlight { margin-top:1rem; padding:0.8rem 1rem; background:rgba(79,172,254,0.05); border-left:3px solid #4facfe; border-radius:0 8px 8px 0; font-size:0.85rem; color:var(--text-muted); }

.rp-calculator { max-width:700px; margin:0 auto; background:var(--bg-alt); padding:2.5rem; border-radius:20px; border:1px solid rgba(79,172,254,0.1); }
.rp-calc__inputs { display:grid; grid-template-columns:1fr 1fr; gap:1.2rem; }
.rp-calc__group { display:flex; flex-direction:column; gap:0.4rem; }
.rp-calc__group label { font-size:0.82rem; color:var(--text-muted); font-weight:600; }
.rp-calc__group input { background:rgba(255,255,255,0.05); border:1px solid rgba(79,172,254,0.15); border-radius:10px; padding:0.7rem 1rem; color:var(--text-light); font-size:1rem; transition:border-color 0.3s; }
.rp-calc__group input:focus { outline:none; border-color:rgba(79,172,254,0.5); }
.rp-calc__btn { grid-column:1/-1; padding:0.9rem; background:linear-gradient(135deg,#4facfe,#00f2fe); color:#000; border:none; border-radius:12px; font-weight:700; font-size:1rem; cursor:pointer; transition:all 0.3s; margin-top:0.5rem; }
.rp-calc__btn:hover { transform:translateY(-2px); box-shadow:0 6px 20px rgba(79,172,254,0.35); }
.rp-calc__result { margin-top:2rem; display:grid; grid-template-columns:1fr 1fr; gap:1rem; }
.rp-result__card { background:rgba(79,172,254,0.05); padding:1.5rem; border-radius:12px; border:1px solid rgba(79,172,254,0.1); text-align:center; }
.rp-result__label { display:block; font-size:0.78rem; color:var(--text-muted); text-transform:uppercase; letter-spacing:0.5px; margin-bottom:0.5rem; }
.rp-result__value { display:block; font-size:1.3rem; font-weight:800; color:#4facfe; }

.rp-cta-section { padding:4rem 0 6rem; }
.rp-cta { position:relative; text-align:center; padding:4rem 3rem; background:var(--bg-alt); border-radius:24px; border:1px solid rgba(79,172,254,0.15); overflow:hidden; }
.rp-cta__glow { position:absolute; top:-50%; left:50%; transform:translateX(-50%); width:400px; height:400px; border-radius:50%; background:radial-gradient(circle,rgba(79,172,254,0.08) 0%,transparent 70%); pointer-events:none; }
.rp-cta h2 { font-size:2rem; color:var(--text-light); margin-bottom:1rem; position:relative; }
.rp-cta p { color:var(--text-muted); max-width:550px; margin:0 auto 2rem; position:relative; }
.rp-cta__buttons { display:flex; gap:1rem; justify-content:center; flex-wrap:wrap; position:relative; }
.tp-btn { display:inline-flex; align-items:center; gap:0.5rem; padding:0.9rem 2rem; border-radius:12px; font-weight:700; text-decoration:none; transition:all 0.3s; font-size:0.95rem; }
.tp-btn--primary { background:linear-gradient(135deg,#4facfe,#00f2fe); color:#000; box-shadow:0 4px 15px rgba(79,172,254,0.3); }
.tp-btn--primary:hover { transform:translateY(-3px); box-shadow:0 8px 25px rgba(79,172,254,0.4); }
.tp-btn--secondary { background:rgba(255,255,255,0.08); color:var(--text-light); border:1px solid rgba(255,255,255,0.1); }
.tp-btn--secondary:hover { background:rgba(255,255,255,0.12); transform:translateY(-2px); }

@media (max-width:768px) { .rp-hero { padding:7rem 1rem 3rem; } .rp-hero__stats { flex-direction:column; align-items:center; } .rp-instruments-grid { grid-template-columns:1fr; } .rp-calc__inputs { grid-template-columns:1fr; } .rp-calc__result { grid-template-columns:1fr; } }
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => { if (entry.isIntersecting) { const d=getComputedStyle(entry.target).getPropertyValue('--delay')||'0s'; setTimeout(()=>entry.target.classList.add('revealed'),parseFloat(d)*1000); observer.unobserve(entry.target); } });
    }, { threshold:0.1, rootMargin:'0px 0px -50px 0px' });
    document.querySelectorAll('.reveal-up').forEach(el=>observer.observe(el));
    const co = new IntersectionObserver((entries) => { entries.forEach(e=>{ if(e.isIntersecting){animateCounter(e.target);co.unobserve(e.target);} }); }, {threshold:0.5});
    document.querySelectorAll('[data-count]').forEach(el=>co.observe(el));
    const c=document.getElementById('rpParticles');
    if(c){for(let i=0;i<15;i++){const p=document.createElement('div');p.className='particle';p.style.left=Math.random()*100+'%';p.style.top=(80+Math.random()*20)+'%';p.style.animationDuration=(8+Math.random()*15)+'s';p.style.animationDelay=Math.random()*10+'s';c.appendChild(p);}}
});
function animateCounter(el){const t=parseInt(el.dataset.count),d=2000,s=performance.now();function u(n){const p=Math.min((n-s)/d,1),e=1-Math.pow(1-p,3);el.textContent=Math.floor(t*e).toLocaleString('en-IN');if(p<1)requestAnimationFrame(u);else el.textContent=t.toLocaleString('en-IN');}requestAnimationFrame(u);}
function calcRetirement(){
    const age=parseInt(document.getElementById('rpCurrentAge').value),ra=parseInt(document.getElementById('rpRetireAge').value),exp=parseInt(document.getElementById('rpExpenses').value),r=parseFloat(document.getElementById('rpReturn').value)/100,inf=parseFloat(document.getElementById('rpInflation').value)/100,le=parseInt(document.getElementById('rpLifeExp').value);
    const yrs=ra-age, retYrs=le-ra;
    const futureExp=exp*Math.pow(1+inf,yrs);
    const annualExp=futureExp*12;
    const realRate=(r-inf)/(1+inf);
    const corpus=annualExp*((1-Math.pow(1+realRate,-retYrs))/realRate);
    const monthlyRate=r/12;
    const sip=corpus*(monthlyRate/(Math.pow(1+monthlyRate,yrs*12)-1));
    document.getElementById('rpCorpus').textContent='₹ '+formatINR(Math.round(corpus));
    document.getElementById('rpSIP').textContent='₹ '+formatINR(Math.round(sip));
    document.getElementById('rpFutureExp').textContent='₹ '+formatINR(Math.round(futureExp))+'/mo';
    document.getElementById('rpDuration').textContent=retYrs+' years ('+ra+' → '+le+')';
    document.getElementById('rpResult').style.display='grid';
}
function formatINR(n){if(n>=10000000)return(n/10000000).toFixed(2)+' Cr';if(n>=100000)return(n/100000).toFixed(2)+' L';return n.toLocaleString('en-IN');}
</script>
{% endblock %}
