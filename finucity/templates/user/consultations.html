<! DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Consultations | Finucity</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2? family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display: wght@500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare. com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/user-dashboard.css') }}">
    <style>
        .consultations-page {
            padding:  32px;
        }

        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
        }

        .page-header h1 {
            font-family: 'Playfair Display', serif;
            font-size: 28px;
            margin-bottom: 8px;
        }

        .page-header p {
            color: var(--text-secondary);
            font-size: 15px;
        }

        .filter-tabs {
            display:  flex;
            gap: 8px;
            margin-bottom: 24px;
            background: var(--bg-card);
            padding:  6px;
            border-radius: var(--border-radius);
            width: fit-content;
        }

        .filter-tab {
            padding:  10px 20px;
            background: transparent;
            border:  none;
            border-radius: 8px;
            color: var(--text-secondary);
            font-size: 13px;
            font-weight: 500;
            cursor:  pointer;
            transition: all var(--transition);
        }

        .filter-tab: hover {
            color: var(--text-primary);
        }

        .filter-tab.active {
            background: var(--accent-gold-soft);
            color:  var(--accent-gold);
        }

        .filter-tab . count {
            margin-left: 6px;
            padding: 2px 8px;
            background: var(--bg-elevated);
            border-radius: 10px;
            font-size: 11px;
        }

        .filter-tab.active . count {
            background: var(--accent-gold);
            color: #0a0c0a;
        }

        .consultations-list {
            display:  flex;
            flex-direction: column;
            gap: 20px;
        }

        .consultation-card-lg {
            background: var(--bg-card);
            border:  1px solid var(--border-primary);
            border-radius: var(--border-radius-lg);
            padding: 28px;
            transition: all var(--transition);
        }

        .consultation-card-lg:hover {
            border-color: var(--border-accent);
        }

        .consultation-card-lg. active {
            border-left: 4px solid var(--accent-gold);
        }

        .card-lg-header {
            display:  flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .ca-profile {
            display: flex;
            gap: 16px;
        }

        .ca-avatar-lg {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, var(--accent-green), var(--accent-green-light));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size:  22px;
            font-weight: 700;
            color:  var(--text-primary);
        }

        .ca-info-lg h3 {
            font-size: 18px;
            margin-bottom: 6px;
        }

        .ca-meta {
            display:  flex;
            align-items: center;
            gap: 16px;
            font-size: 13px;
            color: var(--text-muted);
        }

        .ca-meta span {
            display: flex;
            align-items: center;
            gap:  6px;
        }

        .status-badge {
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-badge.in-progress {
            background: var(--accent-gold-soft);
            color: var(--accent-gold);
        }

        .status-badge.waiting {
            background:  var(--warning-soft);
            color: var(--warning);
        }

        .status-badge. completed {
            background: var(--success-soft);
            color: var(--success);
        }

        .card-lg-body {
            display:  grid;
            grid-template-columns: 2fr 1fr;
            gap: 32px;
            padding: 20px 0;
            border-top: 1px solid var(--border-soft);
            border-bottom: 1px solid var(--border-soft);
            margin-bottom: 20px;
        }

        .service-details h4 {
            font-size: 14px;
            color: var(--text-muted);
            margin-bottom: 8px;
        }

        .service-name {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap:  10px;
        }

        .service-name i {
            color:  var(--accent-gold);
        }

        .service-description {
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.6;
        }

        .consultation-timeline {
            display:  flex;
            flex-direction: column;
            gap: 12px;
        }

        .timeline-item {
            display: flex;
            align-items: center;
            gap:  12px;
            font-size: 13px;
        }

        .timeline-icon {
            width:  32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size:  12px;
        }

        .timeline-icon. done {
            background:  var(--success-soft);
            color: var(--success);
        }

        .timeline-icon.current {
            background:  var(--accent-gold-soft);
            color: var(--accent-gold);
        }

        .timeline-icon.pending {
            background:  var(--bg-elevated);
            color: var(--text-muted);
        }

        .card-lg-footer {
            display: flex;
            justify-content:  space-between;
            align-items:  center;
        }

        .last-activity {
            font-size: 13px;
            color: var(--text-muted);
        }

        .card-actions {
            display:  flex;
            gap: 12px;
        }

        .card-actions . btn-primary,
        .card-actions .btn-secondary {
            padding:  10px 20px;
            font-size: 13px;
        }

        @media (max-width: 900px) {
            .card-lg-body {
                grid-template-columns:  1fr;
            }

            .filter-tabs {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    {% include 'user/partials/sidebar.html' %}

    <main class="main-content">
        {% include 'user/partials/header.html' %}

        <div class="consultations-page">
            <div class="page-header">
                <div>
                    <h1>My Consultations</h1>
                    <p>Track and manage all your ongoing and past consultations with verified CAs.</p>
                </div>
                <a href="{{ url_for('main.find_ca') }}" class="btn-primary">
                    <i class="fas fa-plus"></i> New Consultation
                </a>
            </div>

            <div class="filter-tabs">
                <button class="filter-tab active">All <span class="count">5</span></button>
                <button class="filter-tab">Active <span class="count">2</span></button>
                <button class="filter-tab">Waiting <span class="count">1</span></button>
                <button class="filter-tab">Completed <span class="count">2</span></button>
            </div>

            <div class="consultations-list">
                <!-- Active Consultation -->
                <div class="consultation-card-lg active">
                    <div class="card-lg-header">
                        <div class="ca-profile">
                            <div class="ca-avatar-lg">RS</div>
                            <div class="ca-info-lg">
                                <h3>CA Rajesh Sharma</h3>
                                <div class="ca-meta">
                                    <span><i class="fas fa-check-circle" style="color: var(--success);"></i> Verified</span>
                                    <span><i class="fas fa-star" style="color:  var(--accent-gold);"></i> 4.9</span>
                                    <span><i class="fas fa-map-marker-alt"></i> Mumbai</span>
                                </div>
                            </div>
                        </div>
                        <span class="status-badge in-progress">In Progress</span>
                    </div>

                    <div class="card-lg-body">
                        <div class="service-details">
                            <h4>Service</h4>
                            <div class="service-name">
                                <i class="fas fa-file-invoice"></i>
                                GST Compliance & Monthly Filing
                            </div>
                            <p class="service-description">
                                Comprehensive GST compliance services including monthly GSTR-1 and GSTR-3B filing, ITC reconciliation, and e-way bill management for e-commerce business operations.
                            </p>
                        </div>
                        <div class="consultation-timeline">
                            <h4 style="font-size: 14px; color: var(--text-muted); margin-bottom: 8px;">Progress</h4>
                            <div class="timeline-item">
                                <div class="timeline-icon done"><i class="fas fa-check"></i></div>
                                <span>Request Accepted</span>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-icon done"><i class="fas fa-check"></i></div>
                                <span>Documents Reviewed</span>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-icon current"><i class="fas fa-spinner"></i></div>
                                <span>Filing in Progress</span>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-icon pending"><i class="fas fa-circle"></i></div>
                                <span>Completion</span>
                            </div>
                        </div>
                    </div>

                    <div class="card-lg-footer">
                        <span class="last-activity"><i class="fas fa-clock"></i> Last activity: 2 hours ago</span>
                        <div class="card-actions">
                            <button class="btn-secondary"><i class="fas fa-file-alt"></i> Documents</button>
                            <button class="btn-primary"><i class="fas fa-comment"></i> Chat with CA</button>
                        </div>
                    </div>
                </div>

                <!-- Waiting Consultation -->
                <div class="consultation-card-lg">
                    <div class="card-lg-header">
                        <div class="ca-profile">
                            <div class="ca-avatar-lg">PM</div>
                            <div class="ca-info-lg">
                                <h3>CA Priya Mehta</h3>
                                <div class="ca-meta">
                                    <span><i class="fas fa-check-circle" style="color: var(--success);"></i> Verified</span>
                                    <span><i class="fas fa-star" style="color: var(--accent-gold);"></i> 5.0</span>
                                    <span><i class="fas fa-map-marker-alt"></i> Delhi</span>
                                </div>
                            </div>
                        </div>
                        <span class="status-badge waiting">Awaiting Response</span>
                    </div>

                    <div class="card-lg-body">
                        <div class="service-details">
                            <h4>Service</h4>
                            <div class="service-name">
                                <i class="fas fa-calculator"></i>
                                Tax Planning FY 2024-25
                            </div>
                            <p class="service-description">
                                Comprehensive tax planning consultation to optimize tax liability for the current financial year, including investment recommendations and salary structure optimization.
                            </p>
                        </div>
                        <div class="consultation-timeline">
                            <h4 style="font-size: 14px; color:  var(--text-muted); margin-bottom: 8px;">Progress</h4>
                            <div class="timeline-item">
                                <div class="timeline-icon done"><i class="fas fa-check"></i></div>
                                <span>Request Sent</span>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-icon current"><i class="fas fa-hourglass-half"></i></div>
                                <span>Awaiting CA Response</span>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-icon pending"><i class="fas fa-circle"></i></div>
                                <span>Consultation</span>
                            </div>
                        </div>
                    </div>

                    <div class="card-lg-footer">
                        <span class="last-activity"><i class="fas fa-clock"></i> Request sent:  Yesterday</span>
                        <div class="card-actions">
                            <button class="btn-secondary"><i class="fas fa-edit"></i> Edit Request</button>
                            <button class="btn-secondary"><i class="fas fa-times"></i> Cancel</button>
                        </div>
                    </div>
                </div>

                <!-- Completed Consultation -->
                <div class="consultation-card-lg" style="opacity: 0.8;">
                    <div class="card-lg-header">
                        <div class="ca-profile">
                            <div class="ca-avatar-lg">AK</div>
                            <div class="ca-info-lg">
                                <h3>CA Amit Kumar</h3>
                                <div class="ca-meta">
                                    <span><i class="fas fa-check-circle" style="color: var(--success);"></i> Verified</span>
                                    <span><i class="fas fa-star" style="color: var(--accent-gold);"></i> 4.8</span>
                                    <span><i class="fas fa-map-marker-alt"></i> Bangalore</span>
                                </div>
                            </div>
                        </div>
                        <span class="status-badge completed">Completed</span>
                    </div>

                    <div class="card-lg-body">
                        <div class="service-details">
                            <h4>Service</h4>
                            <div class="service-name">
                                <i class="fas fa-file-alt"></i>
                                ITR Filing FY 2023-24
                            </div>
                            <p class="service-description">
                                Income tax return preparation and e-filing for FY 2023-24 including salary income, capital gains from mutual funds, and rental income.
                            </p>
                        </div>
                        <div class="consultation-timeline">
                            <h4 style="font-size: 14px; color: var(--text-muted); margin-bottom: 8px;">Completed</h4>
                            <div class="timeline-item">
                                <div class="timeline-icon done"><i class="fas fa-check"></i></div>
                                <span>All steps completed</span>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-icon done"><i class="fas fa-check"></i></div>
                                <span>ITR filed successfully</span>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-icon done"><i class="fas fa-check"></i></div>
                                <span>Acknowledgement received</span>
                            </div>
                        </div>
                    </div>

                    <div class="card-lg-footer">
                        <span class="last-activity"><i class="fas fa-check-circle" style="color: var(--success);"></i> Completed: December 10, 2024</span>
                        <div class="card-actions">
                            <button class="btn-secondary"><i class="fas fa-download"></i> Download Documents</button>
                            <button class="btn-primary"><i class="fas fa-star"></i> Leave Review</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <button class="mobile-toggle" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <script>
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }

        // Filter tabs
        document.querySelectorAll('.filter-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.filter-tab').forEach(t => t.classList. remove('active'));
                this.classList. add('active');
            });
        });
    </script>
</body>
</html>